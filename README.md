

<!-- PROJECT LOGO -->
<br />
<p align="center">
  <a href="https://motorcycle-part-identifier.herokuapp.com">
    <img src="https://i.imgur.com/rMkbl2z.gif" width="250">
  </a>

  <h3 align="center">Motorcycle Part Identifier</h3>

  <p align="center">
    Do you have several large boxes of unorganized OEM motorcycle parts? Are you tired of having to manually search for the part number in order to find out what the part is for? 
<br/>
<br/>
If so, this web app is for you.
    <br />
   <br />
    <a href="https://motorcycle-part-identifier.herokuapp.com"><strong>View the site Â»</strong></a>
  </p>
</p>



<!-- TABLE OF CONTENTS -->
<details open="open">
  <summary><h2 style="display: inline-block">Table of Contents</h2></summary>
  <ol>
		 <li><a href="#features">Features</a></li>
		 <li><a href="#how-it-works">How it works</a></li>
	<ul>
	        <li><a href="#overview">Overview</a></li>
        <li><a href="#text-recognition-notes">Image preprocessing & text recognition</a></li>
        <li><a href="#built-with">Built with</a></li>
       </ul>
    <li><a href="#limitations">Limitations</a>
    	<ul>
	        <li><a href="#supported-manufacturers">Supported manufacturers</a></li>
        <li><a href="data-accuracy">Data accuracy</a></li>
       </ul>
</li>
    <li>
      <a href="#development">Development</a>
      <ul>
        <li><a href="#running-a-local-cpy">Running a local copy</a></li>
        <li><a href="#browser-security-notes">Browser security notes</a></li>
      </ul>
    </li>
    <li><a href="#todo">Todo</a></li>
    <li><a href="#license">License</a></li>
  </ol>
</details>



## Features
* []() <b>Real-time part identification<b>
	* Point the camera at a Honda OEM part label, and the app will attempt to determine the part name.

* []() <b> Inventory management</b> 
	* Search and manage part data, and download your inventory as a .CSV file.

## How it works

### Overview 
This web app uses Tesseract.JS (a JavaScript port of the [Tesseract OCR library](https://en.wikipedia.org/wiki/Tesseract_(software)) to scan live video frames for text strings that match OEM part number formats. 

To get part data, it talks to [a Python Flask backend](), which queries eBay for matching parts. It then uses that information to determine a part name.

<b>All text recognition and image manipulation is performed in the browser!</b> No images are sent externally. All inventory data is stored locally as well. 

### Image preprocessing & text recognition

About once per second, a frame from the live video feed is preprocessed and sent to the OCR engine. The preprocessing is basically just [thresholding](https://en.wikipedia.org/wiki/Thresholding_(image_processing)), but it consists of three steps:
<ol><li>Conversion to greyscale</li>
<li>Average pixel value calculation</li>
<li>Thresholding, but using the average pixel value from step 2 as the threshold

The results of this preprocessing are displayed in real-time, just flip the "scanner vision" switch! 

The boxes rendered on top of the camera are bounding boxes, generated by Tesseract.

### Built with

* [Tesseract.JS](https://github.com/naptha/tesseract.js#tesseractjs) for OCR
* [LokiJS](https://github.com/techfort/LokiJS)  for client-side part data storage/filtering, and persistence
* [React](https://github.com/facebook/react) 
* [react-webcam](https://github.com/mozmorris/react-webcam)


## Limitations

### Supported manufacturers
As of now, only <b>Honda</b> parts are supported.

### Data accuracy
The only way I could obtain OEM motorcycle part data (without web scraping) was to use eBay as the data source. So if a part hasn't been sold on eBay, the app won't be able to return information about it.

The part name is determined by analyzing eBay listing titles, so there is some variability with that as well. See the [backend]() docs for more information.

<!-- GETTING STARTED -->
## Development

### Running a local copy
To get a local copy up and running follow the steps below.

1. Clone the repo
   ```sh
   git clone https://github.com/aduda9/motorcycle-part-identifier.git
   ```
2. Install NPM packages
   ```sh
   npm install
   ```
2. Start (see note below)
   ```sh
   npm start
   ```
### Browser security notes

Most browsers will automatically deny camera access to pages served over regular HTTP. So, if you're running a local copy, you'll have to set ```HTTPS=true``` before running ````npm start```. See [this](https://stackoverflow.com/questions/44574399/create-react-app-how-to-use-https-instead-of-http) StackOverflow post for helpful information.

If you're working with a local copy of the backend, you'll also have to enable [mixed content](https://stackoverflow.com/questions/44574399/create-react-app-how-to-use-https-instead-of-http) in your browser, or ensure that the backend is served over HTTPS as well. 

<!-- ROADMAP -->
## Todo

<li>Add support for more OEM part formats (manufacturers)
<li>Add support for manual part number entry
<li>Add ability to edit part information

See the [open issues](https://github.com/github_username/repo_name/issues) for a list of known issues.


<!-- LICENSE -->
## License

Distributed under the MIT License. See `LICENSE` for more information.